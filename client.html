<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AnonymousX</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        @import "./assets/css/Header-Nightsky.css";

        #question {

            -moz-user-select: none;
            -khtml-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;

        }

    </style>
</head>
<body>


<div class="header-nightsky">
    <nav class="navbar navbar-default">
        <div class="container">
            <a class="navbar-brand" id="Home">AnonymousX</a>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Stats</a></li>
                    <li><a href="./" id ="logout">Log out</a></li>





                </ul>
            </div>
        </div>
    </nav>

    <div id = "app">
    <div class="hero" v-if="!playing" >
        <h1>This is an AnonymousX Game Project</h1>
        <p>Click "Play" to challenge your knowledge.</p>
        <div class="btn btn-primary" id ="Play" @click ="play">Play</div>
    </div>


<div class = "hero" style="left: 250px; top:
250px; position: absolute" v-if="playing" >
    <div style="position: absolute; left: -200px; top: -100px">
    <label id>You</label><br>
    Score: <label id="yourScore"></label>
    </div>


    <div style="position: absolute; left: 550px; top: -100px">
        <label id="opponent">Opponent</label><br>
        Score: <label id="hisScore"></label>
    </div>


    <textarea id ="question" style="resize: none; width:405px;background-color:rgba(0, 0, 0, 0.1);
     white-space: normal;
    text-align: justify;
    -moz-text-align-last: center; /* Firefox 12+ */
    text-align-last: center;
    border-color: red" readonly></textarea>
<div>
    <button type = "button" class = "btn-primary"style ="height: 100px; width:200px" id="A" @click="one">answer1</button>
        <button type = "button" class = "btn-primary"style ="height: 100px; width:200px" id="B"@click = "two">answer2</button>
</div>
    <div></div>
        <button type = "button" class = "btn-primary" style ="height: 100px; width:200px; margin-top: 5px" id="C" @click ="three">answer3</button>
        <button type = "button" class = "btn-primary"style ="height: 100px; width:200px; ; margin-top: 5px" id="D" @click = "four">answer4</button>
</div>
    <br>
    <br>

</div>
    </div>
</div>


<script src="/socket.io/socket.io.js"></script>
<script type = "text/javascript"></script>

<script>




</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.min.js"></script>
<script>
    var socket = io();

    var app = new Vue({
        el: '#app',
        data: {
            playing: false


        },
        methods: {
            play: function () {
                this.playing = true;
                $("#Play").prop('disabled',true);
                socket.emit('wantToPlay', localStorage.getItem("userName"));
                socket.on('info',function (data) {
                    //receive the message from server
                    //     alert(data.question);

                })

            },
            one: function () {

                socket.emit('submit',{ans:1})
            },
            two: function () {
                socket.emit('submit',{ans:2})

            },
            three: function () {
                socket.emit('submit',{ans:3})

            },
            four: function () {
                socket.emit('submit',{ans:4})
            }

        }
    });






    $("document").ready(function() {




        $("#logout").click(function () {
            document.cookie="token="+data.authToken;
         //   window.location.href = "/";



        });




        socket.on('next',function(data) {
            $("#A").html(data.A);
            $("#B").html(data.B);
            $("#C").html(data.C);
            $("#D").html(data.D);
            $("#question").html(data.question);
            $("#hisScore").html(data.hisScore);
            $("#yourScore").html(data.yourScore);

        });



        socket.on('play',function (data) {
            $("#A").html(data.A);
            $("#B").html(data.B);
            $("#C").html(data.C);
            $("#D").html(data.D);
            $("#question").html(data.question);
            $("#opponent").html(data.opponent)



        });

     /*   $("#Play").click(function () {
            $("#Play").prop('disabled',true);
            socket.emit('wantToPlay', "Pls");

            socket.on('info',function (data) {
                //receive the message from server
           //     alert(data.question);

            })

        });
        */



        $("#Name").html(localStorage.getItem("userName"));
        });

        </script>
</body>
</html>